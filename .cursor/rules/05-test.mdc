# Phase 4: 테스트 단계

기능 구현이 완료되면 각 기능별로 테스트를 진행합니다.

---

## 1. 테스트 체크리스트

### 기능 테스트 (Functional Testing)

#### 인증 (Auth)
- [ ] **로그인**
  - [ ] 올바른 이메일/비밀번호로 로그인 성공
  - [ ] 잘못된 비밀번호로 로그인 실패
  - [ ] 존재하지 않는 이메일로 로그인 실패
  - [ ] 로그인 후 토큰 저장 확인
  - [ ] 로그인 후 리다이렉트 확인

- [ ] **회원가입**
  - [ ] 유효한 정보로 회원가입 성공
  - [ ] 이메일 형식 검증
  - [ ] 비밀번호 강도 검증
  - [ ] 중복 이메일 처리
  - [ ] 회원가입 후 자동 로그인

- [ ] **로그아웃**
  - [ ] 로그아웃 시 토큰 삭제
  - [ ] 로그아웃 후 로그인 페이지 이동

#### 공연 (Performances)
- [ ] **공연 목록**
  - [ ] 공연 목록 정상 로드
  - [ ] 빈 목록 처리
  - [ ] 로딩 상태 표시
  - [ ] 에러 상태 표시

- [ ] **공연 상세**
  - [ ] 공연 상세 정보 로드
  - [ ] 이미지 표시 (없으면 placeholder)
  - [ ] 리뷰 목록 표시
  - [ ] 존재하지 않는 공연 처리

- [ ] **리뷰 작성**
  - [ ] 로그인한 사용자만 작성 가능
  - [ ] 평점 선택 (1-5)
  - [ ] 내용 유효성 검증 (10-500자)
  - [ ] 리뷰 작성 후 목록 업데이트

- [ ] **좋아요**
  - [ ] 로그인한 사용자만 가능
  - [ ] 좋아요 토글 동작
  - [ ] 좋아요 수 실시간 업데이트

#### 매칭 (Matching)
- [ ] **매칭 카드 목록**
  - [ ] 로그인 체크
  - [ ] 매칭 카드 목록 로드
  - [ ] 필터링 동작

- [ ] **매칭 신청**
  - [ ] 매칭 신청 가능
  - [ ] 중복 신청 방지
  - [ ] 신청 후 상태 업데이트

#### 게시판 (Boards)
- [ ] **게시글 목록**
  - [ ] 게시글 목록 로드
  - [ ] 검색 기능
  - [ ] 페이지네이션 or 무한스크롤

- [ ] **게시글 작성**
  - [ ] 로그인 체크
  - [ ] 제목/내용 유효성 검증
  - [ ] 이미지 업로드
  - [ ] 작성 후 상세 페이지 이동

- [ ] **게시글 수정**
  - [ ] 본인 게시글만 수정 가능
  - [ ] 기존 내용 로드
  - [ ] 수정 후 업데이트

- [ ] **게시글 삭제**
  - [ ] 본인 게시글만 삭제 가능
  - [ ] 삭제 확인 모달
  - [ ] 삭제 후 목록 페이지 이동

---

## 2. UI/UX 테스트

### 반응형 테스트
- [ ] **모바일 (< 768px)**
  - [ ] 하단 네비게이션 표시
  - [ ] 카드 1열 배치
  - [ ] 터치 영역 크기 (최소 48px)
  - [ ] 햄버거 메뉴 동작

- [ ] **태블릿 (768px - 1024px)**
  - [ ] 카드 2열 배치
  - [ ] 사이드바 표시/숨김
  - [ ] 터치 및 마우스 모두 지원

- [ ] **데스크톱 (> 1024px)**
  - [ ] 카드 3-4열 배치
  - [ ] 사이드바 고정 표시
  - [ ] 호버 효과 동작

### 브라우저 호환성
- [ ] Chrome (최신)
- [ ] Safari (최신)
- [ ] Firefox (최신)
- [ ] Edge (최신)
- [ ] 모바일 Safari (iOS)
- [ ] 모바일 Chrome (Android)

### 로딩 상태
- [ ] **데이터 로딩**
  - [ ] 스켈레톤 UI 표시
  - [ ] 로딩 스피너 표시
  - [ ] 로딩 중 중복 요청 방지

- [ ] **이미지 로딩**
  - [ ] Lazy loading 동작
  - [ ] 이미지 로드 실패 시 placeholder
  - [ ] 이미지 최적화 (WebP 지원)

### 에러 처리
- [ ] **네트워크 에러**
  - [ ] 에러 메시지 표시
  - [ ] 재시도 버튼 표시
  - [ ] Fallback UI

- [ ] **404 에러**
  - [ ] 404 페이지 표시
  - [ ] 홈으로 돌아가기 버튼

- [ ] **권한 에러**
  - [ ] 로그인 필요 메시지
  - [ ] 로그인 페이지 이동

---

## 3. 폼 검증 테스트

### 로그인 폼
```typescript
// 테스트 케이스
✅ 올바른 이메일 형식: user@example.com
❌ 잘못된 이메일 형식: user@, @example.com, user
✅ 비밀번호 8자 이상
❌ 비밀번호 8자 미만
```

### 회원가입 폼
```typescript
// 테스트 케이스
✅ 이메일: user@example.com
❌ 이메일: 중복, 형식 오류
✅ 비밀번호: 8자 이상, 영문+숫자 조합
❌ 비밀번호: 8자 미만, 영문만, 숫자만
✅ 비밀번호 확인: 일치
❌ 비밀번호 확인: 불일치
✅ 이름: 2자 이상
❌ 이름: 1자, 특수문자 포함
```

### 리뷰 작성 폼
```typescript
// 테스트 케이스
✅ 평점: 1-5
❌ 평점: 선택 안 함
✅ 내용: 10-500자
❌ 내용: 10자 미만, 500자 초과
```

### 게시글 작성 폼
```typescript
// 테스트 케이스
✅ 제목: 2-100자
❌ 제목: 빈 문자열, 100자 초과
✅ 내용: 10-5000자
❌ 내용: 10자 미만, 5000자 초과
✅ 이미지: jpg, png, gif, webp (5MB 이하)
❌ 이미지: pdf, 5MB 초과
```

---

## 4. API 연동 테스트

### Supabase 연결
- [ ] Supabase 클라이언트 초기화
- [ ] 환경 변수 설정 확인
- [ ] 데이터베이스 연결 확인

### CRUD 테스트
```bash
# Create
- [ ] INSERT 쿼리 성공
- [ ] 필수 필드 검증
- [ ] 유니크 제약 처리

# Read
- [ ] SELECT 쿼리 성공
- [ ] 필터링 동작
- [ ] 정렬 동작
- [ ] 페이지네이션 동작

# Update
- [ ] UPDATE 쿼리 성공
- [ ] 권한 체크 (본인만 수정)
- [ ] 유효성 검증

# Delete
- [ ] DELETE 쿼리 성공
- [ ] 권한 체크 (본인만 삭제)
- [ ] Soft delete vs Hard delete
```

### 파일 업로드
- [ ] **이미지 업로드**
  - [ ] 파일 선택 동작
  - [ ] 미리보기 표시
  - [ ] 업로드 진행률 표시
  - [ ] 업로드 성공 처리
  - [ ] 업로드 실패 처리

- [ ] **Storage URL 생성**
  - [ ] Public URL 생성
  - [ ] 이미지 접근 가능

---

## 5. 상태 관리 테스트

### Zustand Store
```typescript
// auth store
- [ ] 로그인 시 user 상태 업데이트
- [ ] 로그아웃 시 user null
- [ ] persist 동작 (localStorage)
- [ ] 새로고침 후 상태 유지

// performance store
- [ ] 공연 목록 저장
- [ ] 개별 공연 캐싱
- [ ] 상태 업데이트 (좋아요, 리뷰)
```

### React State
```typescript
- [ ] useState 업데이트 동작
- [ ] useEffect 의존성 동작
- [ ] 조건부 렌더링 동작
```

---

## 6. 접근성 테스트

### 키보드 네비게이션
- [ ] Tab 키로 포커스 이동
- [ ] Enter/Space 키로 버튼 클릭
- [ ] Esc 키로 모달 닫기
- [ ] 화살표 키로 슬라이더 조작

### 스크린 리더
- [ ] ARIA 라벨 읽기
- [ ] 이미지 alt 텍스트 읽기
- [ ] 폼 필드 라벨 읽기
- [ ] 에러 메시지 읽기

### 색상 대비
- [ ] WCAG AA 기준 (4.5:1)
- [ ] 버튼/링크 구분
- [ ] 에러 메시지 가독성

---

## 7. 성능 테스트

### 로딩 시간
- [ ] **First Contentful Paint (FCP)**
  - 목표: < 1.8초
  
- [ ] **Largest Contentful Paint (LCP)**
  - 목표: < 2.5초

- [ ] **Time to Interactive (TTI)**
  - 목표: < 3.8초

### 번들 크기
```bash
npm run build

# 체크 항목
- [ ] 번들 크기 < 500KB (gzipped)
- [ ] 코드 스플리팅 동작
- [ ] 동적 import 동작
```

### 이미지 최적화
- [ ] 이미지 lazy loading
- [ ] WebP 형식 지원
- [ ] 반응형 이미지 (srcset)

---

## 8. 보안 테스트

### 인증/인가
- [ ] 비로그인 시 보호된 페이지 접근 차단
- [ ] 타인의 데이터 수정/삭제 차단
- [ ] JWT 토큰 만료 처리
- [ ] XSS 공격 방어

### 데이터 검증
- [ ] 서버사이드 검증 (Supabase RLS)
- [ ] 클라이언트사이드 검증 (Zod)
- [ ] SQL Injection 방어

---

## 9. 테스트 도구 활용

### 개발자 도구
```javascript
// React Developer Tools
- 컴포넌트 트리 확인
- Props/State 확인
- 리렌더링 추적

// Network 탭
- API 요청 확인
- 응답 시간 확인
- 에러 확인

// Console
- 에러 메시지 확인
- 경고 메시지 확인
```

### Lighthouse
```bash
# 실행
1. Chrome DevTools > Lighthouse
2. 카테고리 선택 (Performance, Accessibility, Best Practices, SEO)
3. Analyze page load

# 목표 점수
- Performance: > 90
- Accessibility: > 90
- Best Practices: > 90
- SEO: > 90
```

---

## 10. 테스트 완료 체크리스트

### 필수 테스트
- [ ] 모든 기능 테스트 통과
- [ ] 반응형 테스트 통과 (모바일/태블릿/데스크톱)
- [ ] 주요 브라우저 테스트 통과
- [ ] 폼 검증 테스트 통과

### 권장 테스트
- [ ] 접근성 테스트 통과
- [ ] 성능 테스트 통과 (Lighthouse > 90)
- [ ] 보안 테스트 통과

### 최종 확인
- [ ] ESLint 경고 0개
- [ ] TypeScript 에러 0개
- [ ] Console 에러/경고 0개
- [ ] `npm run build` 성공

---

## 다음 단계

→ **06-all-test.mdc** (전체 통합 테스트)로 진행

**진행 전 확인:**
- [ ] 모든 개별 기능 테스트 완료?
- [ ] 발견된 버그 수정 완료?
- [ ] 코드 리뷰 완료?
